const data = {
  "2024": {
    "risks": [
        {
          "name": "Cyber-risiken",
          "image": "img/funk-global-risk-consensus-risiko-cyberrisiken.jpg",
          "link": "cyber-risiken"
        },
        {
          "name": "Inflation",
          "image": "img/funk-global-risk-consensus-risiko-inflation.jpg",
          "link": "inflation"
        },
        {
          "name": "Extreme Wetterereignisse",
          "image": "img/funk-global-risk-consensus-risiko-extreme-wetterereignisse.jpg",
          "link": "extreme-wetterereignisse"
        },
        {
          "name": "Makroökonomische Veränderungen",
          "image": "img/funk-global-risk-consensus-risiko-makrooekonomische-veraenderungen.jpg",
          "link": "makrooekonomische-veraenderungen"
        },
        {
          "name": "Supply Chain Risiken",
          "image": "img/funk-global-risk-consensus-risiko-supply-chain-risiken.jpg",
          "link": "supply-chain-risiken"
        },
        {
          "name": "Ändernde Regulierungen",
          "image": "img/funk-global-risk-consensus-risiko-aendernde-regulierungen.jpg",
          "link": "aendernde-regulierungen"
        }
    ],
    "events": [
        {
          "name": "Ukrainekrieg",
          "image": "img/funk-global-risk-consensus-globale-events-ukrainekrieg.jpg",
          "link": "global-event-ukrainekrieg"
        },
        {
          "name": "US-China Handelskrieg",
          "image": "img/funk-global-risk-consensus-globale-events-us-china-handelskrieg.jpg",
          "link": "global-event-us–china-handelskrieg"
        }
    ],
  },
  "2023": {
    "risks": [
        {
          "name": "Cyber-risiken",
          "image": "img/funk-global-risk-consensus-risiko-cyberrisiken.jpg",
          "link": "cyber-risiken"
        },
        {
          "name": "Inflation",
          "image": "img/funk-global-risk-consensus-risiko-inflation.jpg",
          "link": "inflation"
        },
        {
          "name": "Fachkräftemangel",
          "image": "img/funk-global-risk-consensus-risiko-fachkraeftemangel.jpg",
          "link": "fachkraeftemangel"
        },
        {
          "name": "Makroökonomische Veränderungen",
          "image": "img/funk-global-risk-consensus-risiko-makrooekonomische-veraenderungen.jpg",
          "link": "makrooekonomische-veraenderungen"
        },
        {
          "name": "Extreme Wetterereignisse",
          "image": "img/funk-global-risk-consensus-risiko-extreme-wetterereignisse.jpg",
          "link": "extreme-wetterereignisse"
        },
        {
          "name": "Nichtberufskrankheiten",
          "image": "img/funk-global-risk-consensus-risiko-nichtberufskrankheiten.jpg",
          "link": "nichtberufskrankheiten"
        }
    ],
    "events": [
        {
          "name": "Ukrainekrieg",
          "image": "img/funk-global-risk-consensus-globale-events-ukrainekrieg.jpg",
          "link": "global-event-ukrainekrieg"
        },
        {
          "name": "US-China Handelskrieg",
          "image": "img/funk-global-risk-consensus-globale-events-us-china-handelskrieg.jpg",
          "link": "global-event-us–china-handelskrieg"
        },
        {
          "name": "COVID-19 Pandemie",
          "image": "img/funk-global-risk-consensus-globale-events-coronapandemie.jpg",
          "link": "global-event-coronapandemie"
        },
    ],
  },
  "2022": {
    "risks": [
        {
          "name": "Cyberrisiken",
          "image": "img/funk-global-risk-consensus-risiko-cyberrisiken.jpg",
          "link": "cyberrisiken"
        },
        {
          "name": "Nichtberufskrankheiten",
          "image": "img/funk-global-risk-consensus-risiko-nichtberufskrankheiten.jpg",
          "link": "nichtberufskrankheiten"
        },
        {
          "name": "Klimawandel",
          "image": "img/funk-global-risk-consensus-risiko-klimawandel.jpg",
          "link": "klimawandel"
        },
        {
          "name": "Ändernde Regulierungen",
          "image": "img/funk-global-risk-consensus-risiko-aendernde-regulierungen.jpg",
          "link": "aendernde-regulierungen"
        },
        {
          "name": "Ungünstige Marktentwicklung",
          "image": "img/funk-global-risk-consensus-risiko-unguenstige-marktentwicklung.jpg",
          "link": "unguenstige-marktentwicklung"
        },
        {
          "name": "Extreme Wetterereignisse",
          "image": "img/funk-global-risk-consensus-risiko-extreme-wetterereignisse.jpg",
          "link": "extreme-wetterereignisse"
        }
    ],
    "events": [
      {
        "name": "COVID-19 Pandemie",
        "image": "img/funk-global-risk-consensus-globale-events-coronapandemie.jpg",
        "link": "global-event-coronapandemie"
      },
      {
        "name": "US-China Handelskrieg",
        "image": "img/funk-global-risk-consensus-globale-events-us-china-handelskrieg.jpg",
        "link": "global-event-us–china-handelskrieg"
      },
      {
        "name": "Ukrainekrieg",
        "image": "img/funk-global-risk-consensus-globale-events-ukrainekrieg.jpg",
        "link": "global-event-ukrainekrieg"
      },
    ],
  },
  "2021": {
    "risks": [
      {
        "name": "Cyberrisiken",
        "image": "img/funk-global-risk-consensus-risiko-cyberrisiken.jpg",
        "link": "cyberrisiken"
      },
      {
        "name": "Nichtberufskrankheiten",
        "image": "img/funk-global-risk-consensus-risiko-nichtberufskrankheiten.jpg",
        "link": "nichtberufskrankheiten"
      },
      {
        "name": "Ändernde Regulierungen",
        "image": "img/funk-global-risk-consensus-risiko-aendernde-regulierungen.jpg",
        "link": "aendernde-regulierungen"
      },
      {
        "name": "Ungünstige Marktentwicklung",
        "image": "img/funk-global-risk-consensus-risiko-unguenstige-marktentwicklung.jpg",
        "link": "unguenstige-marktentwicklung"
      },
      {
        "name": "Extreme Wetterereignisse",
        "image": "img/funk-global-risk-consensus-risiko-extreme-wetterereignisse.jpg",
        "link": "extreme-wetterereignisse"
      },      
      {
        "name": "Naturkatastrophen",
        "image": "img/funk-global-risk-consensus-risiko-naturkatastrophen.jpg",
        "link": "naturkatastrophen"
      },
    ],
    "events": [
      {
        "name": "COVID-19 Pandemie",
        "image": "img/funk-global-risk-consensus-globale-events-coronapandemie.jpg",
        "link": "global-event-coronapandemie"
      },
      {
        "name": "US-China Handelskrieg",
        "image": "img/funk-global-risk-consensus-globale-events-us-china-handelskrieg.jpg",
        "link": "global-event-us–china-handelskrieg"
      },
      {
        "name": "US-EU Handelskrieg",
        "image": "img/funk-global-risk-consensus-globale-events-us-eu-handelskrieg.jpg",
        "link": "global-event-us–eu-handelskrieg"
      }
    ],
  },
  "2020": {
    "risks": [
      {
        "name": "Cyberrisiken",
        "image": "img/funk-global-risk-consensus-risiko-cyberrisiken.jpg",
        "link": "cyberrisiken"
      },
      {
        "name": "Ändernde Regulierungen",
        "image": "img/funk-global-risk-consensus-risiko-aendernde-regulierungen.jpg",
        "link": "aendernde-regulierungen"
      },
      {
        "name": "Ungünstige Marktentwicklung",
        "image": "img/funk-global-risk-consensus-risiko-unguenstige-marktentwicklung.jpg",
        "link": "unguenstige-marktentwicklung"
      },
      {
        "name": "Fachkräftemangel",
        "image": "img/funk-global-risk-consensus-risiko-fachkraeftemangel.jpg",
        "link": "fachkraeftemangel"
      },
      {
        "name": "Naturkatastrophen",
        "image": "img/funk-global-risk-consensus-risiko-naturkatastrophen.jpg",
        "link": "naturkatastrophen"
      },
      {
        "name": "Politische Risiken",
        "image": "img/funk-global-risk-consensus-risiko-politische-risiken.jpg",
        "link": "politische-risiken"
      },
    ],
    "events": [
      {
        "name": "COVID-19 Pandemie",
        "image": "img/funk-global-risk-consensus-globale-events-coronapandemie.jpg",
        "link": "global-event-coronapandemie"
      },
      {
        "name": "US-China Handelskrieg",
        "image": "img/funk-global-risk-consensus-globale-events-us-china-handelskrieg.jpg",
        "link": "global-event-us–china-handelskrieg"
      },
      {
        "name": "US-EU Handelskrieg",
        "image": "img/funk-global-risk-consensus-globale-events-us-eu-handelskrieg.jpg",
        "link": "global-event-us–eu-handelskrieg"
      }
    ],
  },
  "2019": {
    "risks": [
      {
        "name": "Cyberrisiken",
        "image": "img/funk-global-risk-consensus-risiko-cyberrisiken.jpg",
        "link": "cyberrisiken"
      },
      {
        "name": "Fachkräftemangel",
        "image": "img/funk-global-risk-consensus-risiko-fachkraeftemangel.jpg",
        "link": "fachkraeftemangel"
      },
      {
        "name": "Neue Technologien",
        "image": "img/funk-global-risk-consensus-risiko-neue-technologien.jpg",
        "link": "neue-technologien"
      },
      {
        "name": "Politische Risiken",
        "image": "img/funk-global-risk-consensus-risiko-politische-risiken.jpg",
        "link": "politische-risiken"
      },
      {
        "name": "Ändernde Regulierungen",
        "image": "img/funk-global-risk-consensus-risiko-aendernde-regulierungen.jpg",
        "link": "aendernde-regulierungen"
      },
      {
        "name": "Naturkatastrophen",
        "image": "img/funk-global-risk-consensus-risiko-naturkatastrophen.jpg",
        "link": "naturkatastrophen"
      }
    ],
    "events": [
      {
        "name": "COVID-19 Pandemie",
        "image": "img/funk-global-risk-consensus-globale-events-coronapandemie.jpg",
        "link": "global-event-coronapandemie"
      },
      {
        "name": "US-China Handelskrieg",
        "image": "img/funk-global-risk-consensus-globale-events-us-china-handelskrieg.jpg",
        "link": "global-event-us–china-handelskrieg"
      },
      {
        "name": "US-EU Handelskrieg",
        "image": "img/funk-global-risk-consensus-globale-events-us-eu-handelskrieg.jpg",
        "link": "global-event-us–eu-handelskrieg"
      }
    ],
  },
  "2018": {
    "risks": [
      {
        "name": "Cyberrisiken",
        "image": "img/funk-global-risk-consensus-risiko-cyberrisiken.jpg",
        "link": "cyberrisiken"
      },
      {
        "name": "Neue Technologien",
        "image": "img/funk-global-risk-consensus-risiko-neue-technologien.jpg",
        "link": "neue-technologien"
      },
      {
        "name": "Ändernde Regulierungen",
        "image": "img/funk-global-risk-consensus-risiko-aendernde-regulierungen.jpg",
        "link": "aendernde-regulierungen"
      },
      {
        "name": "Naturkatastrophen",
        "image": "img/funk-global-risk-consensus-risiko-naturkatastrophen.jpg",
        "link": "naturkatastrophen"
      },
      {
        "name": "Extreme Wetterereignisse",
        "image": "img/funk-global-risk-consensus-risiko-extreme-wetterereignisse.jpg",
        "link": "extreme-wetterereignisse"
      },
      {
        "name": "Fachkräftemangel",
        "image": "img/funk-global-risk-consensus-risiko-fachkraeftemangel.jpg",
        "link": "fachkraeftemangel"
      }
    ],
    "events": [
      {
        "name": "DSGVO",
        "image": "img/funk-global-risk-consensus-globale-events-dsgvo.jpg",
        "link": "global-event-dsgvo"
      },
      {
        "name": "US-China Handelskrieg",
        "image": "img/funk-global-risk-consensus-globale-events-us-china-handelskrieg.jpg",
        "link": "global-event-us–china-handelskrieg"
      },
      {
        "name": "US-EU Handelskrieg",
        "image": "img/funk-global-risk-consensus-globale-events-us-eu-handelskrieg.jpg",
        "link": "global-event-us–eu-handelskrieg"
      }
    ],
  },
  "2017": {
      "risks": [
        {
          "name": "Cyberrisiken",
          "image": "img/funk-global-risk-consensus-risiko-cyberrisiken.jpg",
          "link": "cyberrisiken"
        },
        {
          "name": "Ungünstige Marktentwicklung",
          "image": "img/funk-global-risk-consensus-risiko-unguenstige-marktentwicklung.jpg",
          "link": "unguenstige-marktentwicklung"
        },
        {
          "name": "Politische Risiken",
          "image": "img/funk-global-risk-consensus-risiko-politische-risiken.jpg",
          "link": "politische-risiken"
        },
        {
          "name": "Naturkatastrophen",
          "image": "img/funk-global-risk-consensus-risiko-naturkatastrophen.jpg",
          "link": "naturkatastrophen"
        },
        {
          "name": "Von Menschen verursachte Katastrophen",
          "image": "img/funk-global-risk-consensus-risiko-von-menschen-verursachte-katastrophen.jpg",
          "link": "von-menschen-verursachte-katastrophen"
        },
        {
          "name": "Fachkräftemangel",
          "image": "img/funk-global-risk-consensus-risiko-fachkraeftemangel.jpg",
          "link": "fachkraeftemangel"
        }
      ],
      "events": [
        {
          "name": "Brexit",
          "image": "img/funk-global-risk-consensus-globale-events-brexit.jpg",
          "link": "global-event-brexit"
        },
        {
          "name": "WannaCry Ransomware",
          "image": "img/funk-global-risk-consensus-globale-events-wannacry-ransomware.jpg",
          "link": "global-event-wannacry-ransomware"
        }
      ],
  },
};

$(document).ready(() => {
  const $risks = $(".risks");
  const $events = $(".gevents");
  const $yearButtons = $(".years button");

  function updateContent(year) {
    $risks.empty();
    $events.empty();

    const yearData = data[year];

    yearData.risks.forEach(risk => {
      $risks.append(`
          <a href="${risk.link}" class="risk bg">
            <div class="riskimg">
              <img src="${risk.image}" alt="${risk.name}">
            </div>
            <div class="risktitle">
              <h1>${risk.name}</h1>
            </div>
          </a>
      `);
    });

    yearData.events.forEach(event => {
      $events.append(`
          <a href="${event.link}" class="gevent bg">
              <div class="geventimg">
                <img src="${event.image}" alt="${event.name}">
              </div>
              <div class="geventtitle">
                <h1>${event.name}</h1>
              </div>
          </a>
      `);
    });

    toggleHiddenItems();
  }

  function toggleHiddenItems() {
    var $items = $('.gevent');
    var $geventsweitereBtn = $('.gewBtn');
  
    if ($items.length > 3) {
      $items.slice(0, 3).slideDown(1000);
      $items.slice(3).hide();
  
      $geventsweitereBtn.on('click', function() {
        $items.slice(3).slideToggle(1000);
        
        var currentText = $(this).text();
        var newText = (currentText === 'Mehr Events') ? 'Weniger Events' : 'Mehr Events';
        $(this).text(newText);
      });
  
      $geventsweitereBtn.show();
    } else {
      $items.slideDown(1000);
      $geventsweitereBtn.hide();
    }
  }

  

  $yearButtons.click(event => {
    const year = $(event.target).data("year");
    $yearButtons.removeClass("active");
    $(event.target).addClass("active");
    updateContent(year);
  });

  updateContent("2024");

  // Buttons Year
  const buttonsContainer = document.querySelector('.buttons');
  buttonsContainer.scrollLeft = buttonsContainer.scrollWidth;

  document.querySelector('.arrow-button.left').addEventListener('click', scrollLeft);

  function scrollLeft() {
    const buttonsContainer = document.querySelector('.buttons');
    buttonsContainer.scrollLeft -= buttonsContainer.offsetWidth;
  }

});
